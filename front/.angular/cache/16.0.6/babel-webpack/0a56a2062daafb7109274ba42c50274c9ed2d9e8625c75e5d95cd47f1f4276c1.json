{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction GestionAdressesComponent_li_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 17)(1, \"div\")(2, \"div\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 19);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 20)(7, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function GestionAdressesComponent_li_21_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const a_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.edit(a_r1));\n    });\n    i0.ɵɵtext(8, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function GestionAdressesComponent_li_21_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const a_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.remove(a_r1));\n    });\n    i0.ɵɵtext(10, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const a_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(a_r1.nomAdresse);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\"\", a_r1.numeroRue, \", \", a_r1.codePostal, \" \", a_r1.ville, \" - \", a_r1.pays, \" \");\n  }\n}\nlet GestionAdressesComponent = /*#__PURE__*/(() => {\n  class GestionAdressesComponent {\n    constructor(api) {\n      this.api = api;\n      this.adresses = [];\n      this.model = {};\n      this.page = 1;\n      this.pageSize = 10;\n    }\n    ngOnInit() {\n      this.load();\n    }\n    load() {\n      this.api.list('adresses').subscribe(d => this.adresses = d || []);\n    }\n    save() {\n      if (this.model.id) {\n        this.api.update('adresses', this.model.id, this.model).subscribe(() => {\n          this.load();\n          this.model = {};\n        });\n      } else {\n        this.api.create('adresses', this.model).subscribe(() => {\n          this.load();\n          this.model = {};\n        });\n      }\n    }\n    edit(a) {\n      this.model = {\n        ...a\n      };\n    }\n    remove(a) {\n      if (!confirm('Supprimer cette adresse ?')) return;\n      this.api.delete('adresses', a.id).subscribe(() => this.load());\n    }\n    get paged() {\n      const start = (this.page - 1) * this.pageSize;\n      return this.adresses.slice(start, start + this.pageSize);\n    }\n    prev() {\n      if (this.page > 1) this.page--;\n    }\n    next() {\n      if (this.page * this.pageSize < this.adresses.length) this.page++;\n    }\n    static {\n      this.ɵfac = function GestionAdressesComponent_Factory(t) {\n        return new (t || GestionAdressesComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: GestionAdressesComponent,\n        selectors: [[\"gestion-adresses\"]],\n        decls: 22,\n        vars: 9,\n        consts: [[1, \"max-w-3xl\", \"mx-auto\", \"p-4\", \"bg-surface\", \"rounded\", \"shadow\"], [1, \"text-xl\", \"mb-4\", \"text-foreground\"], [1, \"space-y-2\", \"mb-4\", 3, \"ngSubmit\"], [\"name\", \"nomAdresse\", \"placeholder\", \"Nom adresse\", \"required\", \"\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"numeroRue\", \"placeholder\", \"Num\\u00E9ro et rue\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"codePostal\", \"placeholder\", \"Code postal\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ville\", \"placeholder\", \"Ville\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"region\", \"placeholder\", \"R\\u00E9gion\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"pays\", \"placeholder\", \"Pays\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"complement\", \"placeholder\", \"Compl\\u00E9ment\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"etage\", \"placeholder\", \"\\u00C9tage\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"justify-end\"], [\"type\", \"submit\", 1, \"bg-green-600\", \"text-inverse\", \"px-4\", \"py-2\", \"rounded\"], [1, \"mb-2\"], [1, \"px-2\", \"py-1\", \"border\", \"rounded\", \"mr-2\", 3, \"click\"], [1, \"px-2\", \"py-1\", \"border\", \"rounded\", 3, \"click\"], [\"class\", \"p-2 border-b flex justify-between items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"p-2\", \"border-b\", \"flex\", \"justify-between\", \"items-center\"], [1, \"font-semibold\"], [1, \"text-sm\", \"text-gray-600\"], [1, \"space-x-2\"], [1, \"px-2\", \"py-1\", \"bg-red-600\", \"text-inverse\", \"rounded\", 3, \"click\"]],\n        template: function GestionAdressesComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"Adresses\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"form\", 2);\n            i0.ɵɵlistener(\"ngSubmit\", function GestionAdressesComponent_Template_form_ngSubmit_3_listener() {\n              return ctx.save();\n            });\n            i0.ɵɵelementStart(4, \"input\", 3);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionAdressesComponent_Template_input_ngModelChange_4_listener($event) {\n              return ctx.model.nomAdresse = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"input\", 4);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionAdressesComponent_Template_input_ngModelChange_5_listener($event) {\n              return ctx.model.numeroRue = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"input\", 5);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionAdressesComponent_Template_input_ngModelChange_6_listener($event) {\n              return ctx.model.codePostal = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"input\", 6);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionAdressesComponent_Template_input_ngModelChange_7_listener($event) {\n              return ctx.model.ville = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"input\", 7);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionAdressesComponent_Template_input_ngModelChange_8_listener($event) {\n              return ctx.model.region = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"input\", 8);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionAdressesComponent_Template_input_ngModelChange_9_listener($event) {\n              return ctx.model.pays = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"input\", 9);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionAdressesComponent_Template_input_ngModelChange_10_listener($event) {\n              return ctx.model.complement = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"input\", 10);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionAdressesComponent_Template_input_ngModelChange_11_listener($event) {\n              return ctx.model.etage = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"div\", 11)(13, \"button\", 12);\n            i0.ɵɵtext(14, \"Enregistrer\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(15, \"div\", 13)(16, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function GestionAdressesComponent_Template_button_click_16_listener() {\n              return ctx.prev();\n            });\n            i0.ɵɵtext(17, \"Pr\\u00E9c\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"button\", 15);\n            i0.ɵɵlistener(\"click\", function GestionAdressesComponent_Template_button_click_18_listener() {\n              return ctx.next();\n            });\n            i0.ɵɵtext(19, \"Suiv\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"ul\");\n            i0.ɵɵtemplate(21, GestionAdressesComponent_li_21_Template, 11, 5, \"li\", 16);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.nomAdresse);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.numeroRue);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.codePostal);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.ville);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.region);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.pays);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.complement);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.etage);\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngForOf\", ctx.paged);\n          }\n        },\n        dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n        styles: [\"[_nghost-%COMP%]{display:block}\"]\n      });\n    }\n  }\n  return GestionAdressesComponent;\n})();\nexport { GestionAdressesComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}