{"ast":null,"code":"import _asyncToGenerator from \"/workspace/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction GestionBornesComponent_div_54_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", l_r6.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(l_r6.instructions || \"Lieu #\" + l_r6.id);\n  }\n}\nfunction GestionBornesComponent_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\", 8);\n    i0.ɵɵtext(2, \"Choisir un lieu\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_54_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.model.lieuId = $event);\n    });\n    i0.ɵɵelementStart(4, \"option\", 35);\n    i0.ɵɵtext(5, \"-- choisir --\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, GestionBornesComponent_div_54_option_6_Template, 2, 2, \"option\", 36);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.model.lieuId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.lieux);\n  }\n}\nfunction GestionBornesComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"label\", 8);\n    i0.ɵɵtext(2, \"Instructions lieu\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.newLieu.instructions = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 40);\n    i0.ɵɵtext(5, \"Utilisateur propri\\u00E9taire (optionnel)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 41);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.newLieu.utilisateur = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h5\", 42);\n    i0.ɵɵtext(8, \"Adresse associ\\u00E9e (optionnel)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\")(10, \"label\", 8);\n    i0.ɵɵtext(11, \"Nom adresse\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.newLieu.adresse.nomAdresse = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\")(14, \"label\", 8);\n    i0.ɵɵtext(15, \"Num\\u00E9ro et rue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 44);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.newLieu.adresse.numeroEtRue = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 45)(18, \"input\", 46);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.newLieu.adresse.codePostal = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 47);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.newLieu.adresse.ville = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"input\", 48);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.newLieu.adresse.region = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 49)(22, \"input\", 50);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.newLieu.adresse.pays = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"input\", 51);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.newLieu.adresse.complement = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 52)(25, \"input\", 53);\n    i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_div_55_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.newLieu.adresse.etage = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.instructions);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.utilisateur);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.adresse.nomAdresse);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.adresse.numeroEtRue);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.adresse.codePostal);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.adresse.ville);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.adresse.region);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.adresse.pays);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.adresse.complement);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.newLieu.adresse.etage);\n  }\n}\nfunction GestionBornesComponent_div_62_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 57);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r20 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", f_r20.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction GestionBornesComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 54)(1, \"div\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 55);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, GestionBornesComponent_div_62_div_5_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementStart(6, \"div\", 52)(7, \"button\", 56);\n    i0.ɵɵlistener(\"click\", function GestionBornesComponent_div_62_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const i_r21 = restoredCtx.index;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.removePreview(i_r21));\n    });\n    i0.ɵɵtext(8, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const f_r20 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(f_r20.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", f_r20.size, \" bytes\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", f_r20.type.startsWith(\"image\"));\n  }\n}\nfunction GestionBornesComponent_tr_76_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 58)(1, \"td\", 59);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 59);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 59);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 31)(8, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function GestionBornesComponent_tr_76_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const b_r26 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.edit(b_r26));\n    });\n    i0.ɵɵtext(9, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function GestionBornesComponent_tr_76_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const b_r26 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.remove(b_r26));\n    });\n    i0.ɵɵtext(11, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const b_r26 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(b_r26.nomBorne || b_r26.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(b_r26.coordGPS);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", b_r26.tarif, \" \\u20AC/min\");\n  }\n}\nfunction GestionBornesComponent_li_78_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 62)(1, \"div\")(2, \"div\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 55);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 63);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 64)(9, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function GestionBornesComponent_li_78_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const b_r30 = restoredCtx.$implicit;\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.edit(b_r30));\n    });\n    i0.ɵɵtext(10, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 56);\n    i0.ɵɵlistener(\"click\", function GestionBornesComponent_li_78_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const b_r30 = restoredCtx.$implicit;\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.remove(b_r30));\n    });\n    i0.ɵɵtext(12, \"Supprimer\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const b_r30 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(b_r30.nomBorne || b_r30.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", b_r30.coordGPS, \" \\u2014 \", b_r30.tarif, \"\\u20AC/min \\u2014 \", b_r30.puissance, \" kW\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Lieu: \", (b_r30.lieu == null ? null : b_r30.lieu.nom) || \"\\u2014\", \"\");\n  }\n}\nlet GestionBornesComponent = /*#__PURE__*/(() => {\n  class GestionBornesComponent {\n    constructor(api) {\n      this.api = api;\n      this.bornes = [];\n      this.model = {};\n      this.lieux = [];\n      this.medias = [];\n      // for new lieu/address\n      this.creatingLieu = false;\n      this.newLieu = {\n        instructions: '',\n        utilisateur: null,\n        adresse: {}\n      };\n      // selected files and previews\n      this.selectedFiles = [];\n      this.filePreviews = [];\n    }\n    ngOnInit() {\n      this.load();\n      this.loadLieux();\n      this.loadMedias();\n    }\n    loadLieux() {\n      this.api.list('lieux').subscribe(d => this.lieux = d || []);\n    }\n    loadMedias() {\n      this.api.list('medias').subscribe(d => this.medias = d || []);\n    }\n    load() {\n      this.api.list('bornes').subscribe(d => this.bornes = d || []);\n    }\n    save() {\n      var _this = this;\n      const bornePayload = {\n        nomBorne: this.model.nomBorne,\n        coordGPS: this.model.coordGPS,\n        tarif: Number(this.model.tarif) || 0,\n        puissance: Number(this.model.puissance) || 0,\n        instruction: this.model.instruction,\n        surPied: !!this.model.surPied,\n        etat: this.model.etat,\n        occupee: !!this.model.occupee\n      };\n      const payload = {\n        borne: bornePayload\n      };\n      if (!this.creatingLieu && this.model.lieuId) {\n        payload.lieu = {\n          id: this.model.lieuId\n        };\n      } else if (this.creatingLieu) {\n        payload.lieu = {\n          instructions: this.newLieu.instructions,\n          utilisateur: {\n            id: this.newLieu.utilisateur?.id || this.newLieu.utilisateur\n          }\n        };\n        if (this.newLieu.adresse && (this.newLieu.adresse.nomAdresse || this.newLieu.adresse.numeroEtRue)) {\n          payload.lieu.adresse = {\n            ...this.newLieu.adresse\n          };\n        }\n      }\n      const uploadAllAndCreate = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* () {\n          try {\n            const createdMedias = [];\n            for (let i = 0; i < _this.selectedFiles.length; i++) {\n              const f = _this.selectedFiles[i];\n              const res = yield _this.api.uploadFile(f).toPromise();\n              if (res && res.id) createdMedias.push({\n                id: res.id\n              });\n            }\n            if (createdMedias.length) payload.medias = createdMedias;\n            if (_this.model.id) {\n              // update existing borne\n              _this.api.update('bornes', _this.model.id, payload.borne).subscribe(() => _this.load(), () => alert('Erreur update'));\n            } else {\n              _this.api.create('bornes', payload).subscribe(created => {\n                _this.load();\n              }, () => alert('Erreur création borne'));\n            }\n          } catch (err) {\n            console.error(err);\n            alert('Erreur upload média');\n          }\n        });\n        return function uploadAllAndCreate() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      uploadAllAndCreate();\n      this.resetForm();\n    }\n    edit(b) {\n      this.model = {\n        ...b\n      };\n    }\n    resetForm() {\n      this.model = {};\n      this.creatingLieu = false;\n      this.newLieu = {\n        instructions: '',\n        utilisateur: null,\n        adresse: {}\n      };\n      this.filePreviews = [];\n    }\n    onFilesSelected(e) {\n      const files = e.target.files;\n      for (let i = 0; i < files.length; i++) {\n        const f = files.item(i);\n        const url = URL.createObjectURL(f);\n        this.selectedFiles.push(f);\n        this.filePreviews.push({\n          name: f.name,\n          size: f.size,\n          url,\n          type: f.type\n        });\n      }\n    }\n    removePreview(idx) {\n      const p = this.filePreviews.splice(idx, 1)[0];\n      try {\n        URL.revokeObjectURL(p.url);\n      } catch (e) {}\n    }\n    remove(b) {\n      if (!confirm('Supprimer cette borne ?')) return;\n      // check reservations\n      this.api.list('reservations').subscribe(r => {\n        const active = (r || []).find(x => Number(x.idBorne) === Number(b.id) && x.etat && x.etat !== 'CANCELLED');\n        if (active) {\n          alert('Impossible: cette borne a des réservations actives.');\n          return;\n        }\n        this.api.delete('bornes', b.id).subscribe(() => this.load(), () => alert('Erreur suppression'));\n      }, () => {\n        // if reservations endpoint fails, fallback to direct delete with confirmation\n        if (confirm('Impossible de vérifier les réservations. Supprimer quand même ?')) this.api.delete('bornes', b.id).subscribe(() => this.load());\n      });\n    }\n    static {\n      this.ɵfac = function GestionBornesComponent_Factory(t) {\n        return new (t || GestionBornesComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: GestionBornesComponent,\n        selectors: [[\"gestion-bornes\"]],\n        decls: 79,\n        vars: 17,\n        consts: [[1, \"max-w-3xl\", \"mx-auto\", \"p-4\", \"card\", \"bg-surface\"], [1, \"text-xl\", \"mb-4\", \"text-foreground\"], [1, \"space-y-2\", \"mb-4\", 3, \"ngSubmit\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [1, \"text-lg\", \"font-semibold\"], [\"aria-label\", \"Ajouter\", 1, \"fab-neon\", \"p-3\", \"rounded-full\", \"text-sm\", 3, \"click\"], [1, \"space-y-3\", \"mb-4\", \"text-black\"], [1, \"font-semibold\", \"text-white\"], [1, \"block\", \"mb-1\"], [\"name\", \"nomBorne\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"coordGPS\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [1, \"grid\", \"grid-cols-2\", \"gap-2\"], [\"type\", \"number\", \"name\", \"tarif\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"puissance\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"instruction\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"name\", \"surPied\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"name\", \"occupee\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"etat\", \"placeholder\", \"disponible / panne / ...\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [1, \"space-y-3\", \"mb-4\"], [1, \"font-semibold\"], [1, \"flex\", \"items-center\", \"space-x-2\"], [1, \"flex\", \"items-center\"], [\"type\", \"radio\", \"name\", \"lieuMode\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [4, \"ngIf\"], [\"class\", \"p-2 border rounded bg-surface-weak\", 4, \"ngIf\"], [\"type\", \"file\", \"multiple\", \"\", 3, \"change\"], [1, \"grid\", \"grid-cols-3\", \"gap-2\", \"mt-2\"], [\"class\", \"p-2 border rounded\", 4, \"ngFor\", \"ngForOf\"], [1, \"table-wrap\", \"overflow-auto\", \"bg-surface-weak\", \"rounded-lg\", \"p-2\"], [1, \"min-w-full\"], [1, \"text-left\", \"text-sm\", \"muted\"], [1, \"px-4\", \"py-3\"], [\"class\", \"border-t border-surface-weak hover:bg-surface-weak transition\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"p-2 border-b flex justify-between items-center\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"lieuId\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"p-2\", \"border\", \"rounded\", \"bg-surface-weak\"], [\"name\", \"newLieuInstructions\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [1, \"block\", \"mb-1\", \"mt-2\"], [\"name\", \"newLieuUtilisateur\", \"placeholder\", \"id utilisateur ou laisser vide pour vous\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [1, \"font-semibold\", \"mt-3\"], [\"name\", \"adrNom\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"adrNumeroRue\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [1, \"grid\", \"grid-cols-3\", \"gap-2\"], [\"name\", \"adrCp\", \"placeholder\", \"Code postal\", 1, \"p-2\", \"border\", \"rounded\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"adrVille\", \"placeholder\", \"Ville\", 1, \"p-2\", \"border\", \"rounded\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"adrRegion\", \"placeholder\", \"R\\u00E9gion\", 1, \"p-2\", \"border\", \"rounded\", 3, \"ngModel\", \"ngModelChange\"], [1, \"grid\", \"grid-cols-2\", \"gap-2\", \"mt-2\"], [\"name\", \"adrPays\", \"placeholder\", \"Pays\", 1, \"p-2\", \"border\", \"rounded\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"adrCompl\", \"placeholder\", \"Compl\\u00E9ment\", 1, \"p-2\", \"border\", \"rounded\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mt-2\"], [\"name\", \"adrEtage\", \"placeholder\", \"\\u00C9tage\", 1, \"p-2\", \"border\", \"rounded\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [1, \"p-2\", \"border\", \"rounded\"], [1, \"text-sm\", \"text-gray-600\"], [1, \"px-2\", \"py-1\", \"btn-danger\", 3, \"click\"], [1, \"w-full\", \"h-24\", \"object-cover\", \"mt-2\", 3, \"src\"], [1, \"border-t\", \"border-surface-weak\", \"hover:bg-surface-weak\", \"transition\"], [1, \"px-4\", \"py-3\", \"text-foreground\"], [1, \"px-2\", \"py-1\", \"rounded\", \"bg-surface-weak\", \"text-foreground\", \"mr-2\", 3, \"click\"], [1, \"px-2\", \"py-1\", \"rounded\", \"bg-red-600\", \"text-inverse\", 3, \"click\"], [1, \"p-2\", \"border-b\", \"flex\", \"justify-between\", \"items-center\"], [1, \"text-xs\", \"text-gray-500\"], [1, \"space-x-2\"], [1, \"px-2\", \"py-1\", \"border\", \"rounded\", 3, \"click\"]],\n        template: function GestionBornesComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"Gestion des bornes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"form\", 2);\n            i0.ɵɵlistener(\"ngSubmit\", function GestionBornesComponent_Template_form_ngSubmit_3_listener() {\n              return ctx.save();\n            });\n            i0.ɵɵelementStart(4, \"div\", 3)(5, \"h3\", 4);\n            i0.ɵɵtext(6, \"Gestion des bornes\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function GestionBornesComponent_Template_button_click_7_listener() {\n              return ctx.model = {};\n            });\n            i0.ɵɵtext(8, \"\\uFF0B\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"div\", 6)(10, \"h4\", 7);\n            i0.ɵɵtext(11, \"Informations borne\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"div\")(13, \"label\", 8);\n            i0.ɵɵtext(14, \"Nom de la borne\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"input\", 9);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_15_listener($event) {\n              return ctx.model.nomBorne = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"div\")(17, \"label\", 8);\n            i0.ɵɵtext(18, \"Coordonn\\u00E9es GPS (lat,lon)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"input\", 10);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_19_listener($event) {\n              return ctx.model.coordGPS = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 11)(21, \"div\")(22, \"label\", 8);\n            i0.ɵɵtext(23, \"Tarif (\\u20AC/min)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"input\", 12);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_24_listener($event) {\n              return ctx.model.tarif = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(25, \"div\")(26, \"label\", 8);\n            i0.ɵɵtext(27, \"Puissance (kW)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"input\", 13);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_28_listener($event) {\n              return ctx.model.puissance = $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(29, \"div\")(30, \"label\", 8);\n            i0.ɵɵtext(31, \"Instructions\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"textarea\", 14);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_textarea_ngModelChange_32_listener($event) {\n              return ctx.model.instruction = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(33, \"div\", 11)(34, \"label\")(35, \"input\", 15);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_35_listener($event) {\n              return ctx.model.surPied = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(36, \" Sur pied\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"label\")(38, \"input\", 16);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_38_listener($event) {\n              return ctx.model.occupee = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(39, \" Occup\\u00E9e\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(40, \"div\")(41, \"label\", 8);\n            i0.ɵɵtext(42, \"\\u00C9tat\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"input\", 17);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_43_listener($event) {\n              return ctx.model.etat = $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(44, \"div\", 18)(45, \"h4\", 19);\n            i0.ɵɵtext(46, \"Lieu associ\\u00E9\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(47, \"div\", 20)(48, \"label\", 21)(49, \"input\", 22);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_49_listener($event) {\n              return ctx.creatingLieu = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(50, \" Choisir existant\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"label\", 21)(52, \"input\", 22);\n            i0.ɵɵlistener(\"ngModelChange\", function GestionBornesComponent_Template_input_ngModelChange_52_listener($event) {\n              return ctx.creatingLieu = $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(53, \" Cr\\u00E9er nouveau\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(54, GestionBornesComponent_div_54_Template, 7, 2, \"div\", 23);\n            i0.ɵɵtemplate(55, GestionBornesComponent_div_55_Template, 26, 10, \"div\", 24);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"div\", 18)(57, \"h4\", 19);\n            i0.ɵɵtext(58, \"M\\u00E9dias associ\\u00E9s\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(59, \"div\")(60, \"input\", 25);\n            i0.ɵɵlistener(\"change\", function GestionBornesComponent_Template_input_change_60_listener($event) {\n              return ctx.onFilesSelected($event);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(61, \"div\", 26);\n            i0.ɵɵtemplate(62, GestionBornesComponent_div_62_Template, 9, 3, \"div\", 27);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(63, \"div\", 28)(64, \"table\", 29)(65, \"thead\")(66, \"tr\", 30)(67, \"th\", 31);\n            i0.ɵɵtext(68, \"Nom\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(69, \"th\", 31);\n            i0.ɵɵtext(70, \"CoordGPS\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(71, \"th\", 31);\n            i0.ɵɵtext(72, \"Tarif\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(73, \"th\", 31);\n            i0.ɵɵtext(74, \"Actions\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(75, \"tbody\");\n            i0.ɵɵtemplate(76, GestionBornesComponent_tr_76_Template, 12, 3, \"tr\", 32);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(77, \"ul\");\n            i0.ɵɵtemplate(78, GestionBornesComponent_li_78_Template, 13, 5, \"li\", 33);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(15);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.nomBorne);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.coordGPS);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.tarif);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.puissance);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.instruction);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.surPied);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.occupee);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngModel\", ctx.model.etat);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngModel\", ctx.creatingLieu)(\"value\", false);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngModel\", ctx.creatingLieu)(\"value\", true);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", !ctx.creatingLieu);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.creatingLieu);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.filePreviews);\n            i0.ɵɵadvance(14);\n            i0.ɵɵproperty(\"ngForOf\", ctx.bornes);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.bornes);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.RadioControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n        styles: [\"[_nghost-%COMP%]{display:block}\"]\n      });\n    }\n  }\n  return GestionBornesComponent;\n})();\nexport { GestionBornesComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}